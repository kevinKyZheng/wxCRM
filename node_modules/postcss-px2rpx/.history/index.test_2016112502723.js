const postcss = require('postcss');

const plugin = require('./');

function run(input, output, opts = {}) {
    return postcss([plugin(opts)]).process(input)
        .then(result => {
            expect(result.css).toEqual(output);
            expect(result.warnings().length).toBe(0);
        });
}

it('simple', () => {
    return run('a{ height: 2px; }', 'a{ height: 4rpx; }', {});
});

it('group value', () => {
    return run('a{ padding: 2px 4px; }', 'a{ padding: 4rpx 8rpx; }', {});
});

it('rpx should not change', () => {
    return run('a{ border: 2rpx solid #ccc; }', 'a{ border: 2rpx solid #ccc; }', {});
});
