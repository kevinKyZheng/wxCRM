{"version":3,"sources":["pages/dayrecord/dayrecord.js"],"names":["app","getApp","Page","data","dataSource","level","content","progress","today","username","TapHeader","wx","navigateTo","url","tapClear","oldData","pop","setData","addNewone","newItem","push","commit","onLoad","timestamp","Date","parse","date","Y","getFullYear","M","getMonth","D","getDate","W","getDay","weekday","day","globalData","userInfo"],"mappings":";;AAAA;;;;;;AACA,IAAMA,MAAMC,QAAZ;AACAC,KAAK;AACDC,UAAM;AACFC,oBAAY,CAAC;AACTC,mBAAO,QADE;AAETC,qBAAS,EAFA;AAGT;AACAC,sBAAU;AAJD,SAAD,CADV;AAOFC,eAAO,EAPL;AAQFC,kBAAU;AARR,KADL;AAWDC,eAAW,qBAAY;AACnBC,WAAGC,UAAH,CAAc;AACVC,iBAAK;AADK,SAAd;AAGH,KAfA;AAgBDC,cAAS,oBAAU;AACf,YAAIC,UAAU,KAAKZ,IAAL,CAAUC,UAAxB;AACAW,gBAAQC,GAAR;AACA,aAAKC,OAAL,CAAa;AACTb,wBAAWW;AADF,SAAb;AAGH,KAtBA;AAuBDG,eAAW,qBAAY;AACnB,YAAIC,UAAU;AACVd,mBAAO,QADG;AAEVC,qBAAS,EAFC;AAGV;AACAC,sBAAU;AAJA,SAAd;AAMA,YAAIQ,UAAU,KAAKZ,IAAL,CAAUC,UAAxB;AACAW,gBAAQK,IAAR,CAAaD,OAAb;AACA,aAAKF,OAAL,CAAa;AACTb,wBAAWW;AADF,SAAb;AAGH,KAnCA;AAoCDM,YAAO,kBAAU,CAChB,CArCA;AAsCDC,YAAQ,kBAAY;AAChB,YAAIC,YAAYC,KAAKC,KAAL,CAAW,IAAID,IAAJ,EAAX,CAAhB;AACA,YAAIE,OAAO,IAAIF,IAAJ,CAASD,SAAT,CAAX,CAFgB,CAEgB;AAChC,YAAII,IAAID,KAAKE,WAAL,EAAR,CAHgB,CAGY;AAC5B,YAAIC,IAAKH,KAAKI,QAAL,KAAkB,CAAlB,GAAsB,EAAtB,GAA2B,OAAOJ,KAAKI,QAAL,KAAkB,CAAzB,CAA3B,GAAyDJ,KAAKI,QAAL,KAAkB,CAApF,CAJgB,CAIwE;AACxF,YAAIC,IAAIL,KAAKM,OAAL,KAAiB,EAAjB,GAAsB,MAAMN,KAAKM,OAAL,EAA5B,GAA6CN,KAAKM,OAAL,EAArD;AACA,YAAIC,IAAIP,KAAKQ,MAAL,EAAR;AACA,YAAIC,UAAU,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAAd;AACA,YAAIC,MAAMT,IAAI,GAAJ,GAAUE,CAAV,GAAc,GAAd,GAAoBE,CAApB,GAAwB,GAAxB,GAA8BI,QAAQF,CAAR,CAAxC;AACA,aAAKhB,OAAL,CAAa;AACTT,mBAAO4B,GADE;AAET3B,sBAAUT,IAAIqC,UAAJ,CAAeC,QAAf,CAAwB,UAAxB;AAFD,SAAb;AAIH;AAnDA,CAAL","file":"dayrecord.js","sourcesContent":["import time from \"../../utils/util.js\"\nconst app = getApp()\nPage({\n    data: {\n        dataSource: [{\n            level: \"B类 较重要\",\n            content: \"\",\n            // username: app.globalData.userInfo[\"username\"],\n            progress: \"\"\n        }],\n        today: \"\",\n        username: \"\"\n    },\n    TapHeader: function () {\n        wx.navigateTo({\n            url: \"../calendar/calendar\"\n        })\n    },\n    tapClear:function(){\n        var oldData = this.data.dataSource\n        oldData.pop()\n        this.setData({\n            dataSource:oldData\n        })\n    },\n    addNewone: function () {\n        var newItem = {\n            level: \"B类 较重要\",\n            content: \"\",\n            // username: app.globalData.userInfo[\"username\"],\n            progress: \"\"\n        }\n        var oldData = this.data.dataSource\n        oldData.push(newItem)\n        this.setData({\n            dataSource:oldData\n        })\n    },\n    commit:function(){\n    },\n    onLoad: function () {\n        var timestamp = Date.parse(new Date());\n        var date = new Date(timestamp); //年         \n        var Y = date.getFullYear(); //月      \n        var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1); //日      \n        var D = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\n        var W = date.getDay()\n        var weekday = [\"星期日\", \"星期一\", \"星期二\", \"星期三\", \"星期四\", \"星期五\", \"星期六\"];\n        var day = Y + \"年\" + M + \"月\" + D + \"日\" + weekday[W]\n        this.setData({\n            today: day,\n            username: app.globalData.userInfo[\"username\"]\n        })\n    }\n})"]}