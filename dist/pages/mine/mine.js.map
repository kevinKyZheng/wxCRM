{"version":3,"sources":["pages/mine/mine.js"],"names":["api","require","app","getApp","Page","data","infoArray","titleArray","userName","headImgSource","tapItem","wx","showModal","title","content","showCancel","cancelText","cancelColor","confirmText","confirmColor","success","result","confirm","fail","complete","onLoad","setNavigationBarTitle","res","timestamp","Date","parse","date","Y","getFullYear","M","getMonth","D","getDate","H","getHours","Mi","getMinutes","S","getSeconds","nowTime","seconds","getTime","timeInterval","Math","floor","toString","timeStrMD5","toUpperCase","substring","token","globalData","userInfo","that","request","url","getUserInformation","userId","method","header","console","log","tapLogoutBtn","reLaunch"],"mappings":"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","file":"mine.js","sourcesContent":["import time from \"../../utils/util.js\";\nimport { hexMD5 } from '../../utils/md5.js';\n// 获取服务器接口地址\nconst api = require('../../config/config.js');\nimport { network } from '../../lib/network';\n// const network = require(\"../../lib/network\");\nconst app = getApp();\nPage({\n    // var titleArray = [\"联系方式\", \"所在部门\", \"现任职位\", \"我的名片\"]\n    data:{\n        infoArray:[],\n        titleArray:[\"联系方式\", \"所在部门\", \"现任职位\"],\n        userName:\"\",\n        headImgSource:\"\"\n    },\n    tapItem:function(){\n        wx.showModal({\n            title: '联系方式',\n            content: '13123123',\n            showCancel: true,\n            cancelText: '取消',\n            cancelColor: '#3b9cff',\n            confirmText: '确定',\n            confirmColor: '#3b9cff',\n            success: (result) => {\n                if(result.confirm){\n                }\n            },\n            fail: ()=>{},\n            complete: ()=>{}\n        });\n    },\n    onLoad:function(){\n        wx.setNavigationBarTitle({\n            title: '我的',\n            success: function(res) {\n                // success\n            }\n        })\n        // const params = {userId:app.globalData.userInfo[\"userId\"]}\n        // network.requestWithLoading(api.getUserInformation,params,function(res){\n        //     console.log(res)\n        // },function(){\n        // })\n        var timestamp = Date.parse(new Date());   \n        var date = new Date(timestamp);    //年         \n        var Y =date.getFullYear();    //月      \n        var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1);    //日      \n        var D = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();\n        var H = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();   \n        var Mi = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();\n        var S = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();\n        var nowTime = Y + M + D + H + Mi + S;\n        //注意getTime()取得是毫秒数\n        var seconds = date.getTime()/1000\n        var timeInterval= Math.floor(seconds).toString();\n        var timeStrMD5 = hexMD5(nowTime).toUpperCase().substring(8,24);\n        var token = hexMD5(app.globalData.userInfo[\"token\"]+ timeStrMD5).toUpperCase();\n        var that = this;\n        wx.request({\n            url: api.getUserInformation,\n            data: {userId:app.globalData.userInfo[\"userId\"]},\n            method: 'POST',\n            header: {\n                'content-type': 'application/json', // 默认值\n                'userid':app.globalData.userInfo[\"userId\"],\n                'token':token,\n                'nowTime':timeInterval,\n                'source':'iOS'\n              }, \n            success: function(res){\n                console.log(res)\n                // var userinformation = res.data.data[0];\n                // var tempArray = [userinformation[\"telPhone\"],\n                // userinformation[\"departmentName\"],\n                // userinformation[\"roleName\"]]\n                // console.log(tempArray)\n                // that.setData({\n                //     infoArray: tempArray,\n                //     userName:userinformation[\"username\"],\n                //     headImgSource:userinformation[\"headerImg\"],\n                // })\n            },\n            fail: function() {\n                // fail\n            },\n            complete: function() {\n                // complete\n            }\n        })\n    },\n    tapLogoutBtn:function(){\n        console.log(hexMD5(\"123\").toUpperCase().substring(8,24));\n        wx.reLaunch({\n            url: '../login/login',\n            success: (result)=>{\n            },\n            fail: ()=>{},\n            complete: ()=>{}\n        });\n    } \n})"]}