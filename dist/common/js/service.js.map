{"version":3,"sources":["common/js/service.js"],"names":["us","require","handle","setStorage","option","complete","key","val","wx","data","isFunction","setStorageSync","e","console","error","removeStorage","removeStorageSync","getStorage","getStorageSync","clearStorage","clearStorageSync","module","exports"],"mappings":";;AAAA;AACA,IAAIA,KAAKC,QAAQ,yBAAR,CAAT;AACA,IAAIC,SAAS;AACXC,cAAW,oBAASC,MAAT,EAAgBC,SAAhB,EAAyB;AAClC,QAAIC,MAAMF,OAAOE,GAAjB;AACA,QAAIC,MAAMH,OAAOG,GAAjB;AACA,QAAGF,aAAY,OAAOA,SAAP,KAAoB,UAAnC,EAA8C;AAAC;AAC7CG,SAAGL,UAAH,CAAc;AACZG,aAAIA,GADQ;AAEZG,cAAKF,GAFO;AAGZF,kBAAS,kBAASI,IAAT,EAAc;AACrB,cAAGT,GAAGU,UAAH,CAAcL,SAAd,CAAH,EAA2B;AACzBA,sBAASI,IAAT;AACD;AACF;AAPW,OAAd;AASD,KAVD,MAUK;AAAC;AACJ,UAAG;AACD,eAAOD,GAAGG,cAAH,CAAkBL,GAAlB,EAAsBC,GAAtB,CAAP;AACD,OAFD,CAEC,OAAMK,CAAN,EAAQ;AACPC,gBAAQC,KAAR,CAAcF,CAAd;AACD;AACF;AACF,GArBU;AAsBXG,iBAAc,uBAASX,MAAT,EAAgBC,UAAhB,EAAyB;AACrC,QAAIC,MAAMF,OAAOE,GAAjB;AACA,QAAGD,cAAY,OAAOA,UAAP,KAAoB,UAAnC,EAA8C;AAAC;AAC5CG,SAAGO,aAAH,CAAiB;AAChBT,aAAIA,GADY;AAEhBD,kBAAS,kBAASI,IAAT,EAAc;AACrB,cAAGT,GAAGU,UAAH,CAAcL,UAAd,CAAH,EAA2B;AACzBA,uBAASI,IAAT;AACD;AACF;AANe,OAAjB;AAQF,KATD,MASK;AAAC;AACJ,UAAG;AACD,eAAOD,GAAGQ,iBAAH,CAAqBV,GAArB,CAAP;AACD,OAFD,CAEC,OAAMM,CAAN,EAAQ;AACPC,gBAAQC,KAAR,CAAcF,CAAd;AACD;AACF;AACF,GAxCU;AAyCXK,cAAW,oBAASb,MAAT,EAAgBC,UAAhB,EAAyB;AAClC,QAAIC,MAAMF,OAAOE,GAAjB;AACA,QAAGD,cAAY,OAAOA,UAAP,KAAoB,UAAnC,EAA8C;AAAC;AAC5CG,SAAGS,UAAH,CAAc;AACbX,aAAIA,GADS;AAEbD,kBAAS,kBAASI,IAAT,EAAc;AACrB,cAAGT,GAAGU,UAAH,CAAcL,UAAd,CAAH,EAA2B;AACzBA,uBAASI,IAAT;AACD;AACF;AANY,OAAd;AAQF,KATD,MASK;AAAC;AACJ,UAAG;AACD,eAAOD,GAAGU,cAAH,CAAkBZ,GAAlB,CAAP;AACD,OAFD,CAEC,OAAMM,CAAN,EAAQ;AACPC,gBAAQC,KAAR,CAAcF,CAAd;AACD;AACF;AACF,GA3DU;AA4DXO,gBAAa,wBAAU;AACrB,QAAG;AACD,aAAOX,GAAGY,gBAAH,EAAP;AACD,KAFD,CAEC,OAAMR,CAAN,EAAQ;AACPC,cAAQC,KAAR,CAAcF,CAAd;AACD;AACF;AAlEU,CAAb;AAoEAS,OAAOC,OAAP,GAAiBpB,MAAjB","file":"service.js","sourcesContent":["/**此文件根据业务需求对app自定义的方法进行封装**/\nvar us = require('../../lib/underscore.js');\nvar handle = {\n  setStorage:function(option,complete){\n    var key = option.key;\n    var val = option.val;\n    if(complete && typeof complete === 'function'){//异步\n      wx.setStorage({\n        key:key,\n        data:val,\n        complete:function(data){\n          if(us.isFunction(complete)){\n            complete(data);\n          }\n        }\n      });\n    }else{//同步\n      try{\n        return wx.setStorageSync(key,val);\n      }catch(e){\n        console.error(e);\n      }\n    }\n  },\n  removeStorage:function(option,complete){\n    var key = option.key;\n    if(complete && typeof complete === 'function'){//异步\n       wx.removeStorage({\n        key:key,\n        complete:function(data){\n          if(us.isFunction(complete)){\n            complete(data);\n          }\n        }\n      });\n    }else{//同步\n      try{\n        return wx.removeStorageSync(key);\n      }catch(e){\n        console.error(e);\n      }\n    }\n  },\n  getStorage:function(option,complete){\n    var key = option.key;\n    if(complete && typeof complete === 'function'){//异步\n       wx.getStorage({\n        key:key,\n        complete:function(data){\n          if(us.isFunction(complete)){\n            complete(data);\n          }\n        }\n      });\n    }else{//同步\n      try{\n        return wx.getStorageSync(key);\n      }catch(e){\n        console.error(e);\n      }\n    }\n  },\n  clearStorage:function(){\n    try{\n      return wx.clearStorageSync();\n    }catch(e){\n      console.error(e);\n    }\n  }\n};\nmodule.exports = handle;"]}